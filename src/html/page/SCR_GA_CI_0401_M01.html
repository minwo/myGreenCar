<!DOCTYPE html>
<html lang="ko">
<head>
@@include('@@webRoot/include/head.html')
</head>
<body>
	<div id="wrap">
		<!-- header -->
@@include('@@webRoot/include/header.html', {type: "sub_01", title:"내등급"})
		<!-- //header -->
		
		<!-- container -->
		<section id="container">
			<div class="contents">

				<div class="mypage rating">
					<div class="ui-svg-chart">
						<div class="circle_progress_wrap">
							<svg class="circle_progress" width="182" height="182">
								<circle class="frame" cx="91" cy="91" r="84" stroke-width="14" />
								<circle class="circle" cx="91" cy="91" r="84" stroke-width="14" />
							</svg>
						</div>
						<span class="rating-badge lv01"></span>
						<div class="txt-module">
							<span class="txt-lv">lv.8</span>
							<strong class="txt">다이아2</strong>
						</div>
					</div>
				</div>

				@@include('@@webRoot/include/bot_fix.html', {type: "type01", title:"적용하기", disabled:"false"})
			</div>
		</section>
		<!-- //container -->

	</div>

	<script>
		var svgChart = (function() {
			var el, svgEl;
			var radius, circumference, radiusVal, gauge, offsetVal, circleRatio;

			init = function() {
				el = document.querySelector('.ui-svg-chart');
				svgEl = el.querySelector('.circle');
				radius = 84;
				circleRatio = 1 - .75;
				circumference = 2 * Math.PI * radius;
				radiusVal = 2 * Math.PI * radius - circumference * circleRatio;
				console.log(radiusVal);

				bindEvent();
			};

			bindEvent = function() {
				setStyle();
			};

			setStyle = function() {
				svgEl.style.opacity = 1;
				svgEl.style.strokeDasharray = 2 * Math.PI * radius;
				svgEl.style.strokeDashoffset = circumference;
			};

			progress = function(per) {
				gauge = radiusVal * (per / 100);
				offsetVal = circumference - gauge;
				svgEl.style.strokeDashoffset = offsetVal;
			};

			return {
				init: init,
				progress: progress
			};
		})();

		svgChart.init();

		// progress 등급 value 값 인스턴스 적용
		setTimeout(function () {
			svgChart.progress(70);
		}, 1300);
	</script>

</body>
</html>